'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _htmlMinifier = require('html-minifier');

var minifyHtml = function minifyHtml(html) {
  var config = {
    collapseWhitespace: true,
    removeComments: true
  };
  return (0, _htmlMinifier.minify)(html, config);
};

/* global document:true */
var createElementFromHTML = function createElementFromHTML(htmlString) {
  var div = document.createElement('div');
  div.innerHTML = htmlString.trim();
  return div.firstChild;
};

exports.default = {
  test: function test(value) {
    return typeof value.html === 'function';
  },
  print: function print(value, serialize) {
    var minified = minifyHtml(value.html());
    var element = createElementFromHTML(minified);
    return serialize(element);
  }
};